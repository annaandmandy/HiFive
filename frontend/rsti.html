<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RSTI – Researcher Personality Indicator</title>
<style>
:root {
  /* --agree:#10b981;
  --disagree:#8b5cf6; */
  --agree:#3b82f6;  
--disagree:#ef4444; 
  --neutral:#cbd5e1;
  --text:#0f172a;
  --muted:#64748b;
  --bg:#fafafa;
  --card:#ffffff;
  --radius:16px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto;
  background:var(--bg);
  color:var(--text);
}
header{
  text-align:center;
  padding:40px 20px 60px;
  background:linear-gradient(120deg,var(--agree),var(--disagree));
  color:white;
}
header h1{margin:0;font-size:2rem;}
header p{opacity:.9;margin-top:8px;}
.container{max-width:780px;margin:-40px auto 0;padding:0 16px;}
.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:0 6px 20px rgba(0,0,0,0.08);
  padding:32px;
}
.progress{
  height:10px;background:#e2e8f0;border-radius:999px;overflow:hidden;margin-bottom:16px;
}
.progress span{
  display:block;height:100%;width:0%;
  background:linear-gradient(90deg,var(--agree),var(--disagree));
  transition:width .3s;
}
.question{
  border-bottom:1px solid #e2e8f0;
  padding:22px 0;
}
.question:last-child{border:none;}
.question-text{font-weight:600;font-size:1.1rem;margin-bottom:18px;}
.scale{
  display:flex;align-items:center;justify-content:center;gap:14px;
}
.choice{
  position:relative;width:36px;height:36px;border-radius:50%;
  border:2px solid var(--neutral);cursor:pointer;transition:transform .2s,border .2s;
}
.choice.big{width:52px;height:52px;}
.choice.medium{width:44px;height:44px;}
.choice:hover{transform:scale(1.08);}
.choice.agree{border-color:var(--agree);}
.choice.disagree{border-color:var(--disagree);}
.choice.active.agree{background:var(--agree);}
.choice.active.disagree{background:var(--disagree);}
.choice.active.neutral{background:var(--neutral);}
.labels{
  display:flex;justify-content:space-between;
  margin:10px 8% 0;color:var(--muted);font-size:.9rem;
}
button{
  margin-top:28px;
  border:none;
  border-radius:12px;
  padding:14px 24px;
  font-weight:600;
  cursor:pointer;
  background:linear-gradient(120deg,var(--agree),var(--disagree));
  color:#fff;
  font-size:1rem;
}
button:disabled{opacity:.5;cursor:not-allowed;}
.result{
  text-align:center;
  margin-top:40px;
}
.result h2{margin-bottom:6px;}
.meter{height:8px;background:#e2e8f0;border-radius:999px;overflow:hidden;margin:8px 0;}
.meter i{display:block;height:100%;width:0%;transition:width .5s;
  background:linear-gradient(90deg,var(--agree),var(--disagree));}
</style>
</head>
<body>
<header>
  <h1>RSTI – Researcher Personality Indicator</h1>
  <p>Discover your research archetype — 8 questions, 1 minutes</p>
</header>

<main class="container">
<div class="card">
  <div class="progress"><span id="bar"></span></div>
  <div id="questions"></div>
  <button id="submit" disabled>See My RSTI Type</button>

  <div id="result" class="result" hidden>
    <h2 id="type">RSTI: —</h2>
    <p id="desc"></p>
    <div id="meters"></div>
    <button id="explore">Explore My Research Topic →</button>
  </div>
</div>
</main>

<script>
const DIMENSIONS={
  BD:{l:"B",r:"D",name:"Blueprint vs. Disruptive"},
  UN:{l:"U",r:"N",name:"Unified vs. Nomadic"},
  CR:{l:"C",r:"R",name:"Causal vs. Relational"},
  SK:{l:"S",r:"K",name:"Systematic vs. Kinetic"}
};

const QUESTIONS={
  BD:[
    "I prefer refining existing frameworks rather than overturning them.",
    "Before starting a project, I map out clear milestones.",
    // "Rules exist mainly to be challenged when a better idea appears.",
    // "I’m more excited by bold revolutions than steady refinement.",
    // "I feel uneasy when a project lacks a defined roadmap."
  ],
  UN:[
    "I try to connect my findings into one coherent theory.",
    "I often wander across disciplines to see what links might emerge.",
    // "Working within one well-defined field limits creativity.",
    // "I feel most satisfied when diverse ideas fit under a single model.",
    // "My curiosity drives me to shift research topics frequently."
  ],
  CR:[
    "Understanding why something happens matters more than predicting when.",
    // "Correlations can be as valuable as causes.",
    // "I prefer theoretical explanations to descriptive summaries.",
    // "I’m comfortable drawing insights from patterns even without full causality.",
    "I believe uncovering mechanisms is the highest form of research."
  ],
  SK:[
    "I meticulously document every procedural step.",
    // "Spontaneous experimentation often leads me to breakthroughs.",
    // "I value consistency and reproducibility above speed.",
    // "Momentum and intuition matter more than perfect plans.",
    "I get restless when progress feels too slow or rigid."
  ]
};

const container=document.getElementById("questions");
let index=0;
for(const [dim,arr] of Object.entries(QUESTIONS)){
  arr.forEach((text,i)=>{
    index++;
    const div=document.createElement("div");
    div.className="question";
    div.dataset.dim=dim;
    div.dataset.dir=(i%2===0?1:-1);
    div.innerHTML=`<div class="question-text">${index}. ${text}</div>
      <div class="scale">
        ${["agree","agree","agree","neutral","disagree","disagree","disagree"].map((side,j)=>{
          const size=j===0||j===6?"big":j===1||j===5?"medium":"";
          return `<div class="choice ${size} ${side}" data-val="${j<3?j+1:j>3?-(j-3):0}"></div>`;
        }).join("")}
      </div>
      <div class="labels"><span>Strongly Agree</span><span>Strongly Disagree</span></div>`;
    container.appendChild(div);
  });
}

const bar=document.getElementById("bar");
const total=document.querySelectorAll(".question").length;
const submit=document.getElementById("submit");

function updateProgress(){
  const answered=document.querySelectorAll(".choice.active").length;
  const pct=Math.min(100,Math.round(answered/total*100));
  bar.style.width=pct+"%";
  submit.disabled=answered<total;
}

document.body.addEventListener("click",e=>{
  if(e.target.classList.contains("choice")){
    const parent=e.target.closest(".scale");
    parent.querySelectorAll(".choice").forEach(c=>c.classList.remove("active"));
    e.target.classList.add("active");
    updateProgress();
  }
});

submit.onclick=()=>{
  const scores={BD:0,UN:0,CR:0,SK:0};
  document.querySelectorAll(".question").forEach(q=>{
    const dim=q.dataset.dim;
    const dir=Number(q.dataset.dir);
    const active=q.querySelector(".choice.active");
    if(!active)return;
    const val=Number(active.dataset.val);
    scores[dim]+=val*dir;
  });
  let type="";
  for(const [dim,obj] of Object.entries(DIMENSIONS)){
    type+=scores[dim]>=0?obj.l:obj.r;
  }
  const result=document.getElementById("result");
//   document.getElementById("type").textContent=`Your RSTI type is: ${type}`;
  document.getElementById("type").innerHTML = `Your RSTI type is: <span style="color:#3b82f6;font-weight:800;">${type}</span>`;
  document.getElementById("desc").textContent="Your profile reflects your natural research archetype.";
  const meters=document.getElementById("meters");
  meters.innerHTML="";
  for(const [dim,obj] of Object.entries(DIMENSIONS)){
    const pct=Math.min(100,Math.round(Math.abs(scores[dim])/15*100));
    const m=document.createElement("div");
    // m.innerHTML=`<div class="small">${obj.name} — ${scores[dim]>=0?obj.l:obj.r} (${pct}%)</div>
    // <div class="meter"><i style="width:${pct}%"></i></div>`;
    m.innerHTML=`<div class="small">${obj.name} — ${scores[dim]>=0?obj.l:obj.r}</div>
    <div class="meter"><i style="width:${pct}%"></i></div>`;
    meters.appendChild(m);
  }
  localStorage.setItem("RSTI_RESULT",JSON.stringify({type,scores,date:new Date().toISOString()}));
  document.getElementById("explore").onclick=()=>{
    const q=new URLSearchParams({rsti:type,...scores}).toString();
    location.href=`research.html?${q}`;
  };
  result.hidden=false;
  result.scrollIntoView({behavior:"smooth"});
};
</script>
</body>
</html>
